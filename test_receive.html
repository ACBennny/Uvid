<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>UvidTest | Receive..</title>
    <link rel="shortcut icon" href="Logo/Logo.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="Main.css">
    </head>
    <body class="">
        

        <!-- preloader -->
        <div id="preloader">
            <div id="spinner"></div>
        </div>



        <!-- testing -->
        <div class="test_house">
            <div class="testbdr">
                <form class="testbox" name="searchDeliver">
                    <h1 class="test_title">The Recieve box</h1>
                    <span class="receiveList"></span>
                </form>
            </div>
        </div>

        
        <!-- Footer -->
        <footer class="footer_base">
            <div class="footer_bdr">
                <div class="footer_box"></div>
            </div>
        </footer>


        <!-- script -->
        <script src="Main.js"></script>
        <script>
            

            // console.log(res);

            const receiver = document.querySelector(".receiveList");

            window.addEventListener("load" , () => {
                const ptag = document.createElement("p");

                ptag.textContent = getQueryString();
                receiver.appendChild(ptag);
            });


            // function to retrieve querystring from url
            function getQueryString()
            {
                const querystring = window.location.href;
                const searchParams = new URL(querystring).searchParams; 
                const params = new URLSearchParams(decodeURI(searchParams));
                const entries = params.entries();

                let result = [];
                // each 'entry' is a [key, value]
                for(let entry of entries) {
                    var key = entry[0];
                    var val = entry[1];
                    if(key in result){
                        result[key].push(val);
                    }else{
                        result[key] = [val];
                    }
                }

                // convert 'key' of result to string
                const retVal = result[key].toString();

                console.log(result);
                console.log(result[key]);
                console.log(retVal);

                return retVal;
            }

        </script>





    </body>
</html>